# Livestream Troubleshooting Platform

### What this is
This is a very basic troubleshooting walkthrough developed primarily for my church's use-case so that we can direct members to this web-app when they have issues.  It is very custom to my church's use-case; I am just sharing it in case it can be useful to someone else as well.  As they are troubleshooting, it sends the information in real-time to a private Slack channel (tracked by a randomly generated adjective and noun to keep the sessions straight if multiple people are going through the steps at the same time) so we can see what issues might be occuring in case there is a possibility it is on our end.  Optionally, it allows people to reach out for more assistance once they reach the end of the troubleshooting steps.  It is very basic, it doesn't even require a SQL connection - just PHP hosting (it's tested on a LAP stack, but no reason I can think of that it wouldn't work on a Windows-Apache-PHP stack either).

### What this is not
This is not built to be a polished web-app built for extreme customization without some knowledge of coding - it was built in a day specifically with my church's needs in mind.  Feel free to fork and customize to your needs, but please don't open an issue asking me how to change the test music or test videos - it isn't hard to change those if you just look for them in the code.  There are also some accepted security risks with it - for instance there is no rate limiting on the admin login page.  This is because we use Cloudflare and I can easily rate limit there without having to build it out myself.  Additionally, having write permissions on the root web directory can be... well... problematic.  The web app uses the ability to write files to disk in order to customize the two admin settings and to set the initial password.  I'm pretty positive that there wouldn't be a way to escape the code I've written and arbitrarily write files; but of course, if the permission is there, there is always the possibility that I missed something that could be abused.  (My pen-testing specialization is in web-apps - trust me when I say I will never say any web-app is 100% secure - lol.)  That being said, that same possibility is also a thing in WordPress and other major CMS; so... don't freak out over that warning either.  This would also almost certainly allow for some level of authenticated XSS - the assumption is that whoever has the admin password isn't going to try and XSS their users... so... please pick a strong password and don't XSS your users.  There's also the "against best practices" issues of not having a logout button for the admin which increases the chances of a successful session hijacking (but then again, be honest; how many of you are logging out of accounts on your production machines?), the fact that the admin page uses a single shared password instead of multiple user accounts (issues with non-repudiation among other things), and the inability to change the admin password through the GUI.  I also haven't had a chance to throw a fuzzer at it or manually check it for anything I might have missed that could end up being a security issue; but given the limited scope of what it's designed to do, I don't expect there to be any major issues compared to things like WordPress and other monstrosities.  All of these are things that I'm aware of and will probably eventually fix (maybe even as early as the next week or so); but again... I built this sucker in a day and for now they are accepted risks.

## Installation instructions
1. Download the files to the root of the directory you want to host the site from.  Make sure your service account running the web server has write permissions to this directory (and *please* don't chmod 777 - just fix the permissions correctly if they aren't already set properly).  It is expected that you are running PHP7+ through Apache; although no reason to believe that it wouldn't work with other PHP compatible hosts as long as you are on 7.0+ code level (but please use supported software folks... stick to 7.3 or 7.4 please...)
2. Visit [url]\admin.php
3. Log in with the password you want to set - the first time you log in it will set the password you will use from there on out. (Please set this even if you don't plan to use the admin page that much)
4. Edit your config.inc file and paste your Slack webhook URL in the quotes (see <https://slack.com/help/articles/115005265063-Incoming-webhooks-for-Slack> for instructions on how to get that URL).
That's it!  You should be good to go!  (Note you can use this without Slack; it just will not send the feedback or live troubleshooting steps anywhere as they are done)

## Usage instructions
Everything should be pretty straight forward.  Optionally you can visit [url]\admin.php and update any known issues or a backup link to a secondary video service that it can direct people to if certain troubleshooting steps indicate it might be useful.  If you add a known issue, it will show up as a red banner on basically every page the user visits so you don't get a ton of reports of something you already know about.